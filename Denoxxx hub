-- NodeXX Hub V2.0 - Death Ball Script Avançado
-- Script completo com Auto Spam Parry e múltiplas funcionalidades

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Lighting = game:GetService("Lighting")
local SoundService = game:GetService("SoundService")
local VirtualInputManager = game:GetService("VirtualInputManager")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local mouse = player:GetMouse()

-- Variáveis do script
local scriptEnabled = false
local gui = nil
local connections = {}
local ballTrail = nil
local espObjects = {}
local currentTab = "Combat"
local lastParryTime = 0
local parryConnection = nil

-- Configurações expandidas
local config = {
    -- Combat
    autoParry = false,
    autoSpamParry = false,
    parryDistance = 25,
    parryDelay = 0.1,
    autoKick = false,
    kickPower = 100,
    autoDefend = false,
    perfectTiming = false,
    
    -- Movement
    speedHack = false,
    walkSpeed = 16,
    jumpPower = 50,
    infiniteJump = false,
    fly = false,
    flySpeed = 50,
    noclip = false,
    
    -- Visual
    showBallPath = false,
    ballESP = false,
    playerESP = false,
    wallhack = false,
    fullbright = false,
    rainbowBall = false,
    
    -- Misc
    godMode = false,
    autoRespawn = false,
    chatSpam = false,
    spamMessage = "NodeXX Hub!",
    antiAFK = false,
    lowGravity = false,
    
    -- Advanced
    aimbot = false,
    aimKey = Enum.KeyCode.E,
    autoClicker = false,
    clickerCPS = 10,
    lagReduce = false,
    performanceMode = false
}

-- Função para criar notificação
local function notify(title, text, duration)
    duration = duration or 3
    
    local notification = Instance.new("ScreenGui")
    notification.Name = "Notification"
    notification.Parent = player:WaitForChild("PlayerGui")
    
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 300, 0, 80)
    frame.Position = UDim2.new(1, -320, 0, 20)
    frame.BackgroundColor3 = Color3.new(0, 0, 0)
    frame.BackgroundTransparency = 0.3
    frame.BorderSizePixel = 0
    frame.Parent = notification
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 8)
    corner.Parent = frame
    
    local titleLabel = Instance.new("TextLabel")
    titleLabel.Size = UDim2.new(1, -10, 0, 25)
    titleLabel.Position = UDim2.new(0, 5, 0, 5)
    titleLabel.BackgroundTransparency = 1
    titleLabel.Text = title
    titleLabel.TextColor3 = Color3.new(1, 0.5, 0)
    titleLabel.TextScaled = true
    titleLabel.Font = Enum.Font.SourceSansBold
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    titleLabel.Parent = frame
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, -10, 0, 40)
    textLabel.Position = UDim2.new(0, 5, 0, 30)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = text
    textLabel.TextColor3 = Color3.new(1, 1, 1)
    textLabel.TextScaled = true
    textLabel.Font = Enum.Font.SourceSans
    textLabel.TextXAlignment = Enum.TextXAlignment.Left
    textLabel.TextWrapped = true
    textLabel.Parent = frame
    
    -- Animação de entrada
    frame.Position = UDim2.new(1, 0, 0, 20)
    frame:TweenPosition(UDim2.new(1, -320, 0, 20), "Out", "Quad", 0.5, true)
    
    -- Remover após o tempo
    wait(duration)
    frame:TweenPosition(UDim2.new(1, 0, 0, 20), "Out", "Quad", 0.3, true)
    wait(0.3)
    notification:Destroy()
end

-- Função para criar a GUI principal
local function createGUI()
    if gui then gui:Destroy() end
    
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "NodeXXHub"
    screenGui.Parent = player:WaitForChild("PlayerGui")
    screenGui.ResetOnSpawn = false
    
    -- Frame principal
    local mainFrame = Instance.new("Frame")
    mainFrame.Name = "MainFrame"
    mainFrame.Size = UDim2.new(0, 450, 0, 550)
    mainFrame.Position = UDim2.new(0.5, -225, 0.5, -275)
    mainFrame.BackgroundColor3 = Color3.new(0.05, 0.05, 0.1)
    mainFrame.BorderSizePixel = 0
    mainFrame.Parent = screenGui
    
    local mainCorner = Instance.new("UICorner")
    mainCorner.CornerRadius = UDim.new(0, 12)
    mainCorner.Parent = mainFrame
    
    -- Barra de título
    local titleBar = Instance.new("Frame")
    titleBar.Name = "TitleBar"
    titleBar.Size = UDim2.new(1, 0, 0, 50)
    titleBar.BackgroundColor3 = Color3.new(1, 0.3, 0)
    titleBar.BorderSizePixel = 0
    titleBar.Parent = mainFrame
    
    local titleCorner = Instance.new("UICorner")
    titleCorner.CornerRadius = UDim.new(0, 12)
    titleCorner.Parent = titleBar
    
    -- Corrigir cantos da barra de título
    local titleFix = Instance.new("Frame")
    titleFix.Size = UDim2.new(1, 0, 0, 25)
    titleFix.Position = UDim2.new(0, 0, 1, -25)
    titleFix.BackgroundColor3 = Color3.new(1, 0.3, 0)
    titleFix.BorderSizePixel = 0
    titleFix.Parent = titleBar
    
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, -100, 1, 0)
    title.Position = UDim2.new(0, 15, 0, 0)
    title.BackgroundTransparency = 1
    title.Text = "NodeXX Hub V2.0 | Death Ball"
    title.TextColor3 = Color3.new(1, 1, 1)
    title.TextScaled = true
    title.Font = Enum.Font.SourceSansBold
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.Parent = titleBar
    
    -- Botões da barra de título
    local minimizeButton = Instance.new("TextButton")
    minimizeButton.Size = UDim2.new(0, 30, 0, 30)
    minimizeButton.Position = UDim2.new(1, -70, 0, 10)
    minimizeButton.BackgroundColor3 = Color3.new(1, 1, 0)
    minimizeButton.Text = "_"
    minimizeButton.TextColor3 = Color3.new(0, 0, 0)
    minimizeButton.TextScaled = true
    minimizeButton.Font = Enum.Font.SourceSansBold
    minimizeButton.Parent = titleBar
    
    local minCorner = Instance.new("UICorner")
    minCorner.CornerRadius = UDim.new(0, 5)
    minCorner.Parent = minimizeButton
    
    local closeButton = Instance.new("TextButton")
    closeButton.Size = UDim2.new(0, 30, 0, 30)
    closeButton.Position = UDim2.new(1, -35, 0, 10)
    closeButton.BackgroundColor3 = Color3.new(1, 0, 0)
    closeButton.Text = "X"
    closeButton.TextColor3 = Color3.new(1, 1, 1)
    closeButton.TextScaled = true
    closeButton.Font = Enum.Font.SourceSansBold
    closeButton.Parent = titleBar
    
    local closeCorner = Instance.new("UICorner")
    closeCorner.CornerRadius = UDim.new(0, 5)
    closeCorner.Parent = closeButton
    
    -- Container para abas
    local tabContainer = Instance.new("Frame")
    tabContainer.Size = UDim2.new(1, -20, 0, 40)
    tabContainer.Position = UDim2.new(0, 10, 0, 60)
    tabContainer.BackgroundTransparency = 1
    tabContainer.Parent = mainFrame
    
    -- Frame de conteúdo
    local contentFrame = Instance.new("Frame")
    contentFrame.Size = UDim2.new(1, -20, 1, -120)
    contentFrame.Position = UDim2.new(0, 10, 0, 110)
    contentFrame.BackgroundColor3 = Color3.new(0.1, 0.1, 0.15)
    contentFrame.BorderSizePixel = 0
    contentFrame.Parent = mainFrame
    
    local contentCorner = Instance.new("UICorner")
    contentCorner.CornerRadius = UDim.new(0, 8)
    contentCorner.Parent = contentFrame
    
    -- Scroll Frame
    local scrollFrame = Instance.new("ScrollingFrame")
    scrollFrame.Size = UDim2.new(1, -10, 1, -10)
    scrollFrame.Position = UDim2.new(0, 5, 0, 5)
    scrollFrame.BackgroundTransparency = 1
    scrollFrame.BorderSizePixel = 0
    scrollFrame.ScrollBarThickness = 8
    scrollFrame.ScrollBarImageColor3 = Color3.new(1, 0.3, 0)
    scrollFrame.Parent = contentFrame
    
    -- Tabs
    local tabs = {"Combat", "Movement", "Visual", "Misc", "Advanced"}
    local tabButtons = {}
    
    for i, tabName in ipairs(tabs) do
        local tabButton = Instance.new("TextButton")
        tabButton.Size = UDim2.new(0.2, -4, 1, 0)
        tabButton.Position = UDim2.new((i-1) * 0.2, 2, 0, 0)
        tabButton.BackgroundColor3 = tabName == currentTab and Color3.new(1, 0.3, 0) or Color3.new(0.2, 0.2, 0.25)
        tabButton.Text = tabName
        tabButton.TextColor3 = Color3.new(1, 1, 1)
        tabButton.TextScaled = true
        tabButton.Font = Enum.Font.SourceSans
        tabButton.Parent = tabContainer
        
        local tabCorner = Instance.new("UICorner")
        tabCorner.CornerRadius = UDim.new(0, 6)
        tabCorner.Parent = tabButton
        
        tabButtons[tabName] = tabButton
    end
    
    -- Função para criar botão toggle
    local function createToggleButton(name, setting, yPos, description)
        local button = Instance.new("TextButton")
        button.Size = UDim2.new(1, -10, 0, 35)
        button.Position = UDim2.new(0, 5, 0, yPos)
        button.BackgroundColor3 = config[setting] and Color3.new(0, 0.7, 0) or Color3.new(0.3, 0.3, 0.35)
        button.Text = name .. " [" .. (config[setting] and "ON" or "OFF") .. "]"
        button.TextColor3 = Color3.new(1, 1, 1)
        button.TextScaled = true
        button.Font = Enum.Font.SourceSans
        button.Parent = scrollFrame
        
        local buttonCorner = Instance.new("UICorner")
        buttonCorner.CornerRadius = UDim.new(0, 6)
        buttonCorner.Parent = button
        
        if description then
            local desc = Instance.new("TextLabel")
            desc.Size = UDim2.new(1, -10, 0, 20)
            desc.Position = UDim2.new(0, 5, 0, yPos + 40)
            desc.BackgroundTransparency = 1
            desc.Text = description
            desc.TextColor3 = Color3.new(0.7, 0.7, 0.7)
            desc.TextScaled = true
            desc.Font = Enum.Font.SourceSans
            desc.TextXAlignment = Enum.TextXAlignment.Left
            desc.Parent = scrollFrame
        end
        
        button.MouseButton1Click:Connect(function()
            config[setting] = not config[setting]
            button.BackgroundColor3 = config[setting] and Color3.new(0, 0.7, 0) or Color3.new(0.3, 0.3, 0.35)
            button.Text = name .. " [" .. (config[setting] and "ON" or "OFF") .. "]"
            
            -- Notificação
            notify("NodeXX Hub", name .. " " .. (config[setting] and "ativado!" or "desativado!"), 2)
        end)
        
        return button
    end
    
    -- Função para criar slider
    local function createSlider(name, setting, min, max, yPos, description)
        local label = Instance.new("TextLabel")
        label.Size = UDim2.new(1, -10, 0, 25)
        label.Position = UDim2.new(0, 5, 0, yPos)
        label.BackgroundTransparency = 1
        label.Text = name .. ": " .. config[setting]
        label.TextColor3 = Color3.new(1, 1, 1)
        label.TextScaled = true
        label.Font = Enum.Font.SourceSans
        label.TextXAlignment = Enum.TextXAlignment.Left
        label.Parent = scrollFrame
        
        local slider = Instance.new("TextBox")
        slider.Size = UDim2.new(1, -10, 0, 30)
        slider.Position = UDim2.new(0, 5, 0, yPos + 30)
        slider.BackgroundColor3 = Color3.new(0.2, 0.2, 0.25)
        slider.Text = tostring(config[setting])
        slider.TextColor3 = Color3.new(1, 1, 1)
        slider.TextScaled = true
        slider.Font = Enum.Font.SourceSans
        slider.Parent = scrollFrame
        
        local sliderCorner = Instance.new("UICorner")
        sliderCorner.CornerRadius = UDim.new(0, 6)
        sliderCorner.Parent = slider
        
        if description then
            local desc = Instance.new("TextLabel")
            desc.Size = UDim2.new(1, -10, 0, 20)
            desc.Position = UDim2.new(0, 5, 0, yPos + 65)
            desc.BackgroundTransparency = 1
            desc.Text = description
            desc.TextColor3 = Color3.new(0.7, 0.7, 0.7)
            desc.TextScaled = true
            desc.Font = Enum.Font.SourceSans
            desc.TextXAlignment = Enum.TextXAlignment.Left
            desc.Parent = scrollFrame
        end
        
        slider.FocusLost:Connect(function()
            local value = tonumber(slider.Text)
            if value and value >= min and value <= max then
                config[setting] = value
                label.Text = name .. ": " .. config[setting]
            else
                slider.Text = tostring(config[setting])
            end
        end)
        
        return slider
    end
    
    -- Função para atualizar conteúdo da aba
    local function updateTabContent(tab)
        for _, child in pairs(scrollFrame:GetChildren()) do
            if child:IsA("GuiObject") then
                child:Destroy()
            end
        end
        
        local yPos = 0
        
        if tab == "Combat" then
            createToggleButton("Auto Parry", "autoParry", yPos, "Automaticamente para ataques da bola")
            yPos = yPos + 65
            
            createToggleButton("Auto Spam Parry", "autoSpamParry", yPos, "Spamma o botão de parry constantemente")
            yPos = yPos + 65
            
            createSlider("Parry Distance", "parryDistance", 5, 50, yPos, "Distância para ativar o parry automático")
            yPos = yPos + 90
            
            createSlider("Parry Delay", "parryDelay", 0.01, 1, yPos, "Delay entre parries (em segundos)")
            yPos = yPos + 90
            
            createToggleButton("Auto Kick", "autoKick", yPos, "Chuta a bola automaticamente")
            yPos = yPos + 65
            
            createSlider("Kick Power", "kickPower", 10, 200, yPos, "Força do chute automático")
            yPos = yPos + 90
            
            createToggleButton("Auto Defend", "autoDefend", yPos, "Defende automaticamente")
            yPos = yPos + 65
            
            createToggleButton("Perfect Timing", "perfectTiming", yPos, "Timing perfeito para parries")
            yPos = yPos + 65
            
        elseif tab == "Movement" then
            createToggleButton("Speed Hack", "speedHack", yPos, "Aumenta a velocidade de movimento")
            yPos = yPos + 65
            
            createSlider("Walk Speed", "walkSpeed", 16, 200, yPos, "Velocidade de caminhada")
            yPos = yPos + 90
            
            createSlider("Jump Power", "jumpPower", 50, 300, yPos, "Força do pulo")
            yPos = yPos + 90
            
            createToggleButton("Infinite Jump", "infiniteJump", yPos, "Pulos infinitos")
            yPos = yPos + 65
            
            createToggleButton("Fly", "fly", yPos, "Modo voo (WASD + Space/Shift)")
            yPos = yPos + 65
            
            createSlider("Fly Speed", "flySpeed", 10, 150, yPos, "Velocidade do voo")
            yPos = yPos + 90
            
            createToggleButton("Noclip", "noclip", yPos, "Atravessa paredes")
            yPos = yPos + 65
            
        elseif tab == "Visual" then
            createToggleButton("Show Ball Path", "showBallPath", yPos, "Mostra o caminho da bola")
            yPos = yPos + 65
            
            createToggleButton("Ball ESP", "ballESP", yPos, "Destaca a bola")
            yPos = yPos + 65
            
            createToggleButton("Player ESP", "playerESP", yPos, "Mostra jogadores através das paredes")
            yPos = yPos + 65
            
            createToggleButton("Wallhack", "wallhack", yPos, "Vê através das paredes")
            yPos = yPos + 65
            
            createToggleButton("Fullbright", "fullbright", yPos, "Remove escuridão")
            yPos = yPos + 65
            
            createToggleButton("Rainbow Ball", "rainbowBall", yPos, "Bola com cores do arco-íris")
            yPos = yPos + 65
            
        elseif tab == "Misc" then
            createToggleButton("God Mode", "godMode", yPos, "Vida infinita")
            yPos = yPos + 65
            
            createToggleButton("Auto Respawn", "autoRespawn", yPos, "Respawn automático")
            yPos = yPos + 65
            
            createToggleButton("Chat Spam", "chatSpam", yPos, "Spam no chat")
            yPos = yPos + 65
            
            local spamBox = Instance.new("TextBox")
            spamBox.Size = UDim2.new(1, -10, 0, 30)
            spamBox.Position = UDim2.new(0, 5, 0, yPos)
            spamBox.BackgroundColor3 = Color3.new(0.2, 0.2, 0.25)
            spamBox.Text = config.spamMessage
            spamBox.TextColor3 = Color3.new(1, 1, 1)
            spamBox.TextScaled = true
            spamBox.Font = Enum.Font.SourceSans
            spamBox.PlaceholderText = "Mensagem do spam..."
            spamBox.Parent = scrollFrame
            
            local spamCorner = Instance.new("UICorner")
            spamCorner.CornerRadius = UDim.new(0, 6)
            spamCorner.Parent = spamBox
            
            spamBox.FocusLost:Connect(function()
                config.spamMessage = spamBox.Text
            end)
            
            yPos = yPos + 40
            
            createToggleButton("Anti AFK", "antiAFK", yPos, "Previne kick por inatividade")
            yPos = yPos + 65
            
            createToggleButton("Low Gravity", "lowGravity", yPos, "Reduz a gravidade")
            yPos = yPos + 65
            
        elseif tab == "Advanced" then
            createToggleButton("Aimbot", "aimbot", yPos, "Mira automática na bola")
            yPos = yPos + 65
            
            createToggleButton("Auto Clicker", "autoClicker", yPos, "Clique automático")
            yPos = yPos + 65
            
            createSlider("Clicker CPS", "clickerCPS", 1, 50, yPos, "Cliques por segundo")
            yPos = yPos + 90
            
            createToggleButton("Lag Reduce", "lagReduce", yPos, "Reduz lag removendo efeitos")
            yPos = yPos + 65
            
            createToggleButton("Performance Mode", "performanceMode", yPos, "Modo alta performance")
            yPos = yPos + 65
        end
        
        scrollFrame.CanvasSize = UDim2.new(0, 0, 0, yPos + 20)
    end
    
    -- Configurar eventos das abas
    for tabName, tabButton in pairs(tabButtons) do
        tabButton.MouseButton1Click:Connect(function()
            currentTab = tabName
            updateTabContent(tabName)
            
            -- Atualizar aparência das abas
            for name, btn in pairs(tabButtons) do
                btn.BackgroundColor3 = name == currentTab and Color3.new(1, 0.3, 0) or Color3.new(0.2, 0.2, 0.25)
            end
        end)
    end
    
    -- Botões da barra de título
    local minimized = false
    minimizeButton.MouseButton1Click:Connect(function()
        minimized = not minimized
        if minimized then
            mainFrame.Size = UDim2.new(0, 450, 0, 50)
            contentFrame.Visible = false
            tabContainer.Visible = false
            minimizeButton.Text = "+"
        else
            mainFrame.Size = UDim2.new(0, 450, 0, 550)
            contentFrame.Visible = true
            tabContainer.Visible = true
            minimizeButton.Text = "_"
        end
    end)
    
    closeButton.MouseButton1Click:Connect(function()
        toggleScript()
    end)
    
    -- Tornar GUI arrastável
    local dragging = false
    local dragStart = nil
    local startPos = nil
    
    titleBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = mainFrame.Position
        end
    end)
    
    titleBar.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStart
            mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    
    titleBar.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    
    -- Inicializar com aba Combat
    updateTabContent("Combat")
    
    gui = screenGui
end

-- Função para encontrar a bola
local function findBall()
    for _, obj in pairs(workspace:GetChildren()) do
        if obj.Name:lower():find("ball") or (obj:IsA("Part") and obj:FindFirstChild("BodyVelocity")) then
            return obj
        end
    end
    
    -- Procurar em pastas também
    for _, folder in pairs(workspace:GetChildren()) do
        if folder:IsA("Folder") then
            for _, obj in pairs(folder:GetChildren()) do
                if obj.Name:lower():find("ball") or (obj:IsA("Part") and obj:FindFirstChild("BodyVelocity")) then
                    return obj
                end
            end
        end
    end
    
    return nil
end

-- Função Auto Spam Parry
local function autoSpamParry()
    if not config.autoSpamParry then return end
    
    local currentTime = tick()
    if currentTime - lastParryTime >= config.parryDelay then
        -- Simular pressionar F (tecla padrão de parry)
        keypress(0x46) -- F key
        wait(0.01)
        keyrelease(0x46)
        lastParryTime = currentTime
    end
end

-- Função Auto Parry
local function autoParry()
    if not config.autoParry then return end
    
    local ball = findBall()
    if not ball or not character or not character:FindFirstChild("HumanoidRootPart") then return end
    
    local distance = (ball.Position - character.HumanoidRootPart.Position).Magnitude
    
    if distance <= config.parryDistance then
        local currentTime = tick()
        if currentTime - lastParryTime >= config.parryDelay then
            -- Verificar se a bola está vindo em direção ao jogador
            local ballVelocity = ball:FindFirstChild("BodyVelocity")
            if ballVelocity and ballVelocity.Velocity.Magnitude > 5 then
                local ballDirection = ballVelocity.Velocity.Unit
                local playerDirection = (character.HumanoidRootPart.Position - ball.Position).Unit
                
                -- Se a bola está vindo em nossa direção
                if ballDirection:Dot(playerDirection) > 0.5 then
                    keypress(0x46) -- F key
                    wait(0.01)
                    keyrelease(0x46)
                    lastParryTime = currentTime
                    
                    if config.perfectTiming then
                        wait(0.1)
                        keypress(0x46)
                        wait(0.01)
                        keyrelease(0x46)
                    end
                end
            end
        end
    end
end

-- Função Auto Kick
local function autoKick()
    if not config.autoKick then return end
    
    local ball = findBall()
    if not ball or not character or not character:FindFirstChild("HumanoidRootPart") then return end
    
    local distance = (ball.Position - character.HumanoidRootPart.Position).Magnitude
    
    if distance < 8 then
        local bodyVelocity = ball:FindFirstChild("BodyVelocity")
        if bodyVelocity then
            -- Calcular direção do chute
            local targetDirection = Vector3.new(math.random(-1, 1), 0.2, math.random(-1, 1)).Unit
            bodyVelocity.Velocity = targetDirection * config.kickPower
        end
    end
end

-- Função Auto Defend
local function autoDefend()
    if not config.autoDefend then return end
    
    local ball = findBall()
    if not ball or not character or not character:FindFirstChild("HumanoidRootPart") then return end
    
    local ballVelocity = ball:FindFirstChild("BodyVelocity")
    if ballVelocity and ballVelocity.Velocity.Magnitude > 10 then
        -- Prever onde a bola vai estar
        local predictedPosition = ball.Position + ballVelocity.Velocity.Unit * 15
        humanoid:MoveTo(predictedPosition)
    end
end

-- Função Speed Hack
local function applySpeedHack()
    if config.speedHack and humanoid then
        humanoid.WalkSpeed = config.walkSpeed
        humanoid.JumpPower = config.jumpPower
    else
        if humanoid then
            humanoid.WalkSpeed = 16
            humanoid.JumpPower = 50
        end
    end
end

-- Função Fly
local function handleFly()
    if not config.fly or not character or not character:FindFirstChild("HumanoidRootPart") then return end
    
    local hrp = character.HumanoidRootPart
    local bodyVelocity = hrp:FindFirstChild("FlyVelocity")
    
    if not bodyVelocity then
        bodyVeloc
